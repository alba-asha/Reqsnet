<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ResQNet - Emergency Response System</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  
  
  <!--  FULL CSS block  -->
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f4f6fa;
      color: #222;
    }
    .container {
      display: flex;
      min-height: 100vh;
    }
    .sidebar {
      width: 240px;
      background: #fff;
      box-shadow: 2px 0 10px rgba(0,0,0,0.07);
      display: flex;
      flex-direction: column;
      position: fixed;
      height: 100vh;
      z-index: 1000;
      left: 0;
      top: 0;
      transition: transform 0.3s;
    }
    .logo {
      padding: 24px 0 16px 0;
      text-align: center;
      border-bottom: 1px solid #eee;
    }
    .logo h1 {
      font-size: 1.6rem;
      font-weight: bold;
      margin: 0;
      color: #e63946;
      letter-spacing: 1px;
    }
    .logo i {
      color: #e63946;
      font-size: 2rem;
      margin-bottom: 8px;
    }
    .nav-menu {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .nav-item {
      display: flex;
      align-items: center;
      padding: 14px 32px;
      color: #333;
      text-decoration: none;
      font-size: 1rem;
      transition: background 0.2s, color 0.2s;
      border-left: 4px solid transparent;
      cursor: pointer;
    }
    .nav-item i {
      margin-right: 12px;
      font-size: 1.2rem;
      width: 22px;
      text-align: center;
    }
    .nav-item.active, .nav-item:hover {
      background: #fbeaec;
      color: #e63946;
      border-left: 4px solid #e63946;
    }
    .sidebar-bottom {
      margin-top: auto;
      padding: 20px 32px;
      border-top: 1px solid #eee;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 48px;
      height: 24px;
      vertical-align: middle;
    }
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background: #ccc;
      border-radius: 24px;
      transition: .4s;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background: #fff;
      border-radius: 50%;
      transition: .4s;
    }
    input:checked + .slider {
      background: #2a9d8f;
    }
    input:checked + .slider:before {
      transform: translateX(24px);
    }
    .main-content {
      flex: 1;
      margin-left: 240px;
      padding: 32px 24px;
      min-height: 100vh;
      background: #f4f6fa;
      transition: margin-left 0.3s;
    }
    .page-header {
      text-align: center;
      margin-bottom: 30px;
    }
    .page-header h2 {
      font-size: 2rem;
      color: #e63946;
      margin-bottom: 10px;
    }
    .page-header p {
      font-size: 1.1rem;
      color: #555;
    }
    .sos-section, .emergency-section {
      text-align: center;
      margin-bottom: 32px;
    }
    .sos-button {
      background: #e63946;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 140px;
      height: 140px;
      font-size: 2rem;
      font-weight: bold;
      box-shadow: 0 8px 32px rgba(230,57,70,0.18);
      margin-bottom: 18px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .sos-button:hover {
      transform: scale(1.05);
      box-shadow: 0 12px 40px rgba(230,57,70,0.28);
    }
    .sos-icon {
      font-size: 2.5rem;
      margin-bottom: 6px;
    }
    .sos-text {
      font-size: 1.1rem;
      font-weight: bold;
      line-height: 1.2;
    }
    .emergency-services {
      display: flex;
      justify-content: center;
      gap: 24px;
      margin-bottom: 32px;
    }
    .service-button {
      background: #fff;
      border: none;
      border-radius: 15px;
      padding: 20px 18px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      min-width: 150px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }
    .service-button i {
      font-size: 2rem;
      margin-bottom: 6px;
    }
    .service-button h3 {
      color: #333;
      font-size: 1.1rem;
      margin: 0;
    }
    .service-button p {
      color: #666;
      font-size: 0.95rem;
      margin: 0;
    }
    .service-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.13);
    }
    .status-section {
      text-align: center;
      background: #fff;
      padding: 20px;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    }
    .status-toggle {
      background: #2a9d8f;
      color: #fff;
      border: none;
      border-radius: 25px;
      padding: 15px 30px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s;
    }
    .status-toggle.unsafe {
      background: #e63946;
    }
    .status-desc {
      color: #555;
      margin-top: 10px;
      font-size: 0.97rem;
    }
    .card {
      background: #fff;
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      transition: transform 0.3s;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .card h3 {
      color: #e63946;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.1rem;
    }
    .alert-list, .alert-history-list {
      margin-bottom: 10px;
    }
    .alert-item {
      background: #fbeaec;
      border-left: 4px solid #e63946;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 5px;
    }
    .alert-critical { background: #fbeaec; border-left-color: #c0392b; }
    .alert-warning { background: #fff6e0; border-left-color: #f4a261; }
    .alert-info { background: #eaf6fb; border-left-color: #457b9d; }
    .stats-grid {
      display: flex;
      gap: 18px;
      margin-top: 10px;
    }
    .stat-card {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 12px 18px;
      flex: 1;
      text-align: center;
    }
    .stat-label {
      color: #888;
      font-size: 0.97rem;
    }
    .stat-value {
      font-size: 1.3rem;
      font-weight: bold;
      color: #e63946;
    }
    .map-container {
      position: relative;
      margin-bottom: 20px;
    }
    #map {
      width: 100%;
      height: 400px;
      border-radius: 10px;
      margin-bottom: 18px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    }
    .map-legend {
      position: absolute;
      top: 20px;
      left: 20px;
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .legend-item {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }
    .legend-color {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: inline-block;
    }
    .tips-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }
    .tip-card {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 16px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.04);
    }
    .tip-card h4 {
      margin: 0 0 10px 0;
      color: #e63946;
      font-size: 1rem;
    }
    .tip-card ul {
      margin: 0;
      padding-left: 18px;
      font-size: 0.97rem;
    }
    .guide-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }
    .guide-card {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 16px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.04);
    }
    .guide-card h4 {
      color: #457b9d;
      margin-bottom: 10px;
    }
    .guide-card ol {
      margin: 0;
      padding-left: 18px;
      font-size: 0.97rem;
    }
    .profile-grid, .admin-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 20px;
    }
    .form-group {
      margin-bottom: 16px;
    }
    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: #333;
      font-weight: 500;
    }
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #e63946;
    }
    .btn {
      background: #e63946;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 10px 22px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s;
      margin-right: 10px;
    }
    .btn:hover {
      background: #c0392b;
      transform: translateY(-2px);
    }
    .contact-list {
      background: #f8f9fa;
      border-radius: 15px;
      padding: 20px;
      margin-top: 20px;
    }
    .contact-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      border-bottom: 1px solid #eee;
    }
    .contact-item:last-child {
      border-bottom: none;
    }
    .contact-info h4 {
      color: #333;
      margin-bottom: 5px;
    }
    .contact-info p {
      color: #666;
      font-size: 14px;
    }
    .contact-actions {
      display: flex;
      gap: 10px;
    }
    .btn-small {
      padding: 8px 16px;
      font-size: 14px;
    }
    @media (max-width: 900px) {
      .container { flex-direction: column; }
      .sidebar { position: relative; width: 100vw; height: auto; }
      .main-content { margin-left: 0; padding: 18px 6vw; }
    }
    @media (max-width: 600px) {
      .main-content { padding: 12px 2vw; }
      .sidebar { padding: 0; }
      .tips-grid, .guide-list, .profile-grid, .admin-grid { grid-template-columns: 1fr; }
      #map { height: 250px; }
    }
    </style>
  <!-- Firebase App (the core Firebase SDK) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <!-- <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script> -->
</head>
<body>
  <div class="container">


    <!-- Sidebar & Navigation -->

<aside class="sidebar" id="sidebar">
  <div class="logo">
    <i class="fas fa-heartbeat"></i>
    <h1>ResQNet</h1>
    <p>Emergency Response System</p>
  </div>
  <nav>
    <ul class="nav-menu">
      <li><a href="#" class="nav-item active" data-page="home"><i class="fas fa-home"></i> Home</a></li>
      <li><a href="#" class="nav-item" data-page="alerts"><i class="fas fa-bell"></i> Live Alerts</a></li>
      <li><a href="#" class="nav-item" data-page="map"><i class="fas fa-map-marked-alt"></i> Emergency Map</a></li>
      <li><a href="#" class="nav-item" data-page="resources"><i class="fas fa-book-medical"></i> Safety Resources</a></li>
      <li><a href="#" class="nav-item" data-page="contacts"><i class="fas fa-address-book"></i> Emergency Contacts</a></li>
      <li><a href="#" class="nav-item" data-page="profile"><i class="fas fa-user"></i> Profile</a></li>
      <li><a href="#" class="nav-item" data-page="admin"><i class="fas fa-tools"></i> Admin Panel</a></li>
      <li><a href="#" class="nav-item" data-page="arduino"><i class="fas fa-microchip"></i> Arduino Sensors</a></li>
    </ul>
  </nav>
  <div class="sidebar-bottom">
    <span>Dark Mode</span>
    <label class="toggle-switch">
      <input type="checkbox" id="dark-mode-toggle">
      <span class="slider"></span>
    </label>
  </div>
</aside>
    <main class="main-content">


      
      
    <!-- Home / Dashboard Section -->
<section class="page" id="home-page">
  <div class="page-header">
    <h2>Emergency Response Dashboard</h2>
    <p>Your safety is our priority. Access emergency services instantly.</p>
  </div>

  <div class="emergency-section" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
    <button class="sos-button" id="sos-button">
      <span class="sos-icon"><i class="fas fa-exclamation-triangle"></i></span>
      <span class="sos-text">SOS<br>EMERGENCY</span>
    </button>
    <div class="emergency-services" style="margin-top: 32px;">
      <button class="service-button" id="fire-btn">
        <i class="fas fa-fire"></i>
        <div>
          <h3>Fire & Rescue</h3>
          <p>101</p>
        </div>
      </button>
      <button class="service-button" id="police-btn">
        <i class="fas fa-shield-alt"></i>
        <div>
          <h3>Police</h3>
          <p>100</p>
        </div>
      </button>
      <button class="service-button" id="ambulance-btn">
        <i class="fas fa-ambulance"></i>
        <div>
          <h3>Ambulance</h3>
          <p>102</p>
        </div>
      </button>
    </div>
  </div>

  <div class="status-section" style="text-align: center; margin-top: 32px;">
    <h3>Safety Status</h3>
    <p class="status-desc">Let your contacts know you're safe or need help</p>
    <div style="display: flex; gap: 18px; justify-content: center; margin-top: 12px;">
      <button class="status-toggle" id="safeBtn" style="background: #2a9d8f; color: #fff; border-radius: 25px; padding: 15px 30px; font-size: 1.1rem; border: none; cursor: pointer;">✅ I'm Safe</button>
      <button class="status-toggle unsafe" id="helpBtn" style="background: #e63946; color: #fff; border-radius: 25px; padding: 15px 30px; font-size: 1.1rem; border: none; cursor: pointer;">🆘 Need Help</button>
    </div>
  </div>
</section>



      
    <!-- Live Alerts Section -->
<section class="page" id="alerts-page" style="display:none;">
  <div class="page-header">
    <h2>Live Emergency Alerts</h2>
    <p>Real-time warnings and updates from monitoring systems</p>
  </div>

  <div class="card">
    <h3><i class="fas fa-bolt"></i> Critical Alerts</h3>
    <div class="alert-list" id="critical-alerts">
      <div class="alert-item alert-critical">
        <strong>High Temperature Alert</strong><br>
        <small>Sensor ID: TEMP-001 | 15:34 | 45.2°C detected</small><br>
        Location: Industrial Area, Zone A
      </div>
      <div class="alert-item alert-critical">
        <strong>Seismic Activity Detected</strong><br>
        <small>Sensor ID: VIBR-003 | 15:28 | Magnitude 3.2</small><br>
        Location: Coastal Region
      </div>
    </div>
  </div>

  <div class="card">
    <h3><i class="fas fa-exclamation-triangle"></i> Warning Alerts</h3>
    <div class="alert-list" id="warning-alerts">
      <div class="alert-item alert-warning">
        <strong>Unusual Sound Pattern</strong><br>
        <small>Sensor ID: AUDIO-002 | 15:20 | 85dB sustained</small><br>
        Location: Downtown District
      </div>
      <div class="alert-item alert-warning">
        <strong>Air Quality Alert</strong><br>
        <small>Sensor ID: AIR-004 | 15:15 | PM2.5 elevated</small><br>
        Location: Industrial Zone
      </div>
    </div>
  </div>

  <div class="card">
    <h3><i class="fas fa-info-circle"></i> Information Updates</h3>
    <div class="alert-list" id="info-alerts">
      <div class="alert-item alert-info">
        <strong>Weather Advisory</strong><br>
        <small>Met Dept. | 14:45 | Heavy rain expected</small><br>
        Duration: Next 6 hours
      </div>
      <div class="alert-item alert-info">
        <strong>Road Closure</strong><br>
        <small>Traffic Dept. | 14:30 | Bridge maintenance</small><br>
        Location: Main Bridge - Alternative routes available
      </div>
    </div>
  </div>

  <div class="card">
    <h3><i class="fas fa-chart-bar"></i> Alert Statistics</h3>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Today's Alerts</div>
        <div class="stat-value" id="todayAlerts">12</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Critical Alerts</div>
        <div class="stat-value" id="criticalAlerts">3</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Response Time</div>
        <div class="stat-value" id="responseTime">2.3 min</div>
      </div>
    </div>
  </div>
</section>



      
    <!-- Emergency Map Section -->
<section class="page" id="map-page" style="display:none;">
  <div class="page-header">
    <h2>Emergency Response Map</h2>
    <p>Locate nearby shelters, supplies, and emergency services</p>
  </div>

  <div class="map-container">
    <div id="map"></div>
    <button id="locate-me" class="map-locate-btn" style="position:absolute;top:8px;right:20px;z-index:1001;">Find My Location</button>
    <div class="map-legend">
      <div class="legend-item">
        <span class="legend-color" style="background: #e63946;"></span>
        <span>Your Location</span>
      </div>
      <div class="legend-item">
        <span class="legend-color" style="background: #2a9d8f;"></span>
        <span>Relief Shelters</span>
      </div>
      <div class="legend-item">
        <span class="legend-color" style="background: #457b9d;"></span>
        <span>Medical Stations</span>
      </div>
      <div class="legend-item">
        <span class="legend-color" style="background: #f4a261;"></span>
        <span>Supply Points</span>
      </div>
    </div>
  </div>

  <div class="tips-grid">
    <div class="card">
      <h3><i class="fas fa-home"></i> Nearby Shelters</h3>
      <p><strong>Community Center</strong> - 2.1km<br>
      Capacity: 200 people | Status: Open</p>
      <p><strong>School Gymnasium</strong> - 3.5km<br>
      Capacity: 150 people | Status: Open</p>
      <p><strong>Sports Complex</strong> - 4.2km<br>
      Capacity: 300 people | Status: Open</p>
    </div>
    <div class="card">
      <h3><i class="fas fa-hospital"></i> Medical Facilities</h3>
      <p><strong>District Hospital</strong> - 1.8km<br>
      Emergency: 24/7 | Trauma Center</p>
      <p><strong>Health Center</strong> - 2.9km<br>
      Basic care | First aid supplies</p>
    </div>
  </div>
</section>



      
      <!-- Resources Section -->
<section class="page" id="resources-page" style="display:none;">
  <div class="page-header">
    <h2>Safety Resources & Guidelines</h2>
    <p>Essential information to stay safe during emergencies</p>
  </div>

  <div class="tips-grid">
    <div class="tip-card">
      <h4><i class="fas fa-water"></i> Flood Safety</h4>
      <ul>
        <li>Move to higher ground immediately</li>
        <li>Never walk or drive through flood water</li>
        <li>Stay away from electrical equipment</li>
        <li>Listen to emergency radio updates</li>
        <li>Have emergency supplies ready</li>
        <li>Create evacuation plan with family</li>
      </ul>
    </div>
    <div class="tip-card">
      <h4><i class="fas fa-house-damage"></i> Earthquake Safety</h4>
      <ul>
        <li>Drop, Cover, and Hold On</li>
        <li>Stay away from windows and glass</li>
        <li>If outdoors, move away from buildings</li>
        <li>Don't use elevators during shaking</li>
        <li>Check for injuries after shaking stops</li>
        <li>Be prepared for aftershocks</li>
      </ul>
    </div>
    <div class="tip-card">
      <h4><i class="fas fa-fire"></i> Fire Emergency</h4>
      <ul>
        <li>Get out fast and stay out</li>
        <li>Crawl low under smoke</li>
        <li>Feel doors before opening</li>
        <li>Call 101 from safe location</li>
        <li>Meet at predetermined location</li>
        <li>Never go back inside</li>
      </ul>
    </div>
    <div class="tip-card">
      <h4><i class="fas fa-wind"></i> Severe Weather</h4>
      <ul>
        <li>Monitor weather alerts closely</li>
        <li>Secure outdoor objects</li>
        <li>Stay indoors and away from windows</li>
        <li>Have battery-powered radio ready</li>
        <li>Avoid using electrical appliances</li>
        <li>Keep emergency kit accessible</li>
      </ul>
    </div>
    <div class="tip-card">
      <h4><i class="fas fa-briefcase-medical"></i> Medical Emergency</h4>
      <ul>
        <li>Call 102 immediately</li>
        <li>Stay calm and assess situation</li>
        <li>Apply first aid if trained</li>
        <li>Keep patient comfortable</li>
        <li>Don't move injured person</li>
        <li>Provide clear location details</li>
      </ul>
    </div>
    <div class="tip-card">
      <h4><i class="fas fa-box-open"></i> Emergency Kit Essentials</h4>
      <ul>
        <li>Water (1 gallon per person per day)</li>
        <li>Non-perishable food (3-day supply)</li>
        <li>Battery-powered radio</li>
        <li>First aid supplies</li>
        <li>Flashlight and extra batteries</li>
        <li>Important documents copies</li>
      </ul>
    </div>
  </div>

  <div class="section" style="margin-top:32px;">
    <h3><i class="fas fa-book-medical"></i> Emergency Guides</h3>
    <div class="guide-list">
      <div class="guide-card">
        <h4>Earthquake Guide</h4>
        <ol>
          <li>If indoors, drop to the ground, take cover under a sturdy table, and hold on.</li>
          <li>Stay away from windows, outside doors, and walls.</li>
          <li>If outdoors, stay in the open away from buildings, streetlights, and utility wires.</li>
          <li>If in a vehicle, pull over to a clear location and stop. Avoid bridges, overpasses, and power lines.</li>
          <li>After the shaking stops, check yourself and others for injuries.</li>
          <li>Be prepared for aftershocks.</li>
        </ol>
      </div>
      <div class="guide-card">
        <h4>Flood Guide</h4>
        <ol>
          <li>Move to higher ground and avoid walking or driving through flood waters.</li>
          <li>Just 6 inches of moving water can knock you down, and 1 foot of water can sweep your vehicle away.</li>
          <li>If trapped in a building, go to its highest level. Do not climb into a closed attic.</li>
          <li>Listen to emergency officials for evacuation instructions.</li>
          <li>Turn around, don't drown when encountering flooded roads.</li>
          <li>Stay off bridges over fast-moving water.</li>
        </ol>
      </div>
      <div class="guide-card">
        <h4>Fire Guide</h4>
        <ol>
          <li>If you smell smoke or see flames, alert others and exit immediately.</li>
          <li>Crawl low under smoke - the air is cleaner near the floor.</li>
          <li>Feel doors before opening them. If a door is hot, use another escape route.</li>
          <li>If clothing catches fire: Stop, Drop, and Roll.</li>
          <li>Once out, stay out. Never go back inside a burning building.</li>
          <li>Call emergency services from outside the building.</li>
        </ol>
      </div>
      <div class="guide-card">
        <h4>Basic First Aid</h4>
        <ol>
          <li><strong>Bleeding:</strong> Apply direct pressure with a clean cloth until bleeding stops.</li>
          <li><strong>Burns:</strong> Cool with running water for 10 minutes. Don't apply ice or butter.</li>
          <li><strong>Broken Bones:</strong> Immobilize the area. Don't try to realign the bone.</li>
          <li><strong>Choking:</strong> Perform abdominal thrusts (Heimlich maneuver).</li>
          <li><strong>CPR:</strong> Push hard and fast in center of chest at 100-120 compressions per minute.</li>
          <li><strong>Shock:</strong> Have person lie down, elevate legs, keep warm with a blanket.</li>
        </ol>
      </div>
    </div>
  </div>
</section>





       <!-- Profile Section -->
<section class="page" id="profile-page" style="display:none;">
  <div class="page-header">
    <h2>User Profile</h2>
    <p>Manage your account and emergency information</p>
  </div>

  <div class="profile-grid">
    <!-- Personal Information -->
    <div class="card">
      <h3><i class="fas fa-user"></i> Personal Information</h3>
      <form id="profileForm">
        <div class="form-group">
          <label for="fullName">Full Name *</label>
          <input type="text" id="fullName" value="Alex Johnson" required>
        </div>
        <div class="form-group">
          <label for="email">Email Address *</label>
          <input type="email" id="email" value="alex.johnson@email.com" required>
        </div>
        <div class="form-group">
          <label for="phone">Phone Number *</label>
          <input type="tel" id="phone" value="+91 98765 43210" required>
        </div>
        <div class="form-group">
          <label for="address">Address</label>
          <textarea id="address" rows="3">123 Main Street, Kanayannur, Kerala, India</textarea>
        </div>
        <div class="form-group">
          <label for="bloodType">Blood Type</label>
          <select id="bloodType">
            <option value="">Select Blood Type</option>
            <option value="A+">A+</option>
            <option value="A-">A-</option>
            <option value="B+">B+</option>
            <option value="B-">B-</option>
            <option value="AB+">AB+</option>
            <option value="AB-">AB-</option>
            <option value="O+">O+</option>
            <option value="O-">O-</option>
          </select>
        </div>
        <div class="form-group">
          <label for="medicalInfo">Medical Information</label>
          <textarea id="medicalInfo" rows="3" placeholder="Any allergies, medications, or medical conditions..."></textarea>
        </div>
        <button type="submit" class="btn">Update Profile</button>
      </form>
    </div>

    <!-- Account Security -->
    <div class="card">
      <h3><i class="fas fa-lock"></i> Account Security</h3>
      <form id="securityForm">
        <div class="form-group">
          <label for="currentPassword">Current Password</label>
          <input type="password" id="currentPassword">
        </div>
        <div class="form-group">
          <label for="newPassword">New Password</label>
          <input type="password" id="newPassword">
        </div>
        <div class="form-group">
          <label for="confirmPassword">Confirm New Password</label>
          <input type="password" id="confirmPassword">
        </div>
        <button type="submit" class="btn">Update Password</button>
      </form>
    </div>
  </div>

  <!-- Emergency Contacts -->
  <div class="card" style="margin-top:32px;">
    <h3><i class="fas fa-address-book"></i> Emergency Contacts</h3>
    <form id="contactForm">
      <div class="form-group">
        <label for="contactName">Full Name *</label>
        <input type="text" id="contactName" required>
      </div>
      <div class="form-group">
        <label for="contactPhone">Phone Number *</label>
        <input type="tel" id="contactPhone" required>
      </div>
      <div class="form-group">
        <label for="contactEmail">Email Address</label>
        <input type="email" id="contactEmail">
      </div>
      <div class="form-group">
        <label for="contactRelation">Relationship</label>
        <select id="contactRelation">
          <option value="family">Family Member</option>
          <option value="friend">Friend</option>
          <option value="neighbor">Neighbor</option>
          <option value="colleague">Colleague</option>
          <option value="other">Other</option>
        </select>
      </div>
      <button type="submit" class="btn">Add Contact</button>
    </form>
    <div class="contact-list" id="contact-list">
      <!-- Contacts will be rendered here by JS -->
    </div>
  </div>

  <!-- Alert History -->
  <div class="card" style="margin-top:32px;">
    <h3><i class="fas fa-history"></i> Alert History</h3>
    <div class="alert-history-list" id="alert-history-list">
      <div class="alert-item">
        <strong>15:34 - High Temperature Alert</strong><br>
        <small>Sensor TEMP-001 | Status: Resolved | Response: 3 mins</small>
      </div>
      <div class="alert-item">
        <strong>15:28 - Seismic Activity</strong><br>
        <small>Sensor VIBR-003 | Status: Monitoring | Response: 1 min</small>
      </div>
      <div class="alert-item">
        <strong>15:20 - Sound Pattern Alert</strong><br>
        <small>Sensor AUDIO-002 | Status: Resolved | Response: 2 mins</small>
      </div>
      <div class="alert-item">
        <strong>14:45 - Weather Advisory</strong><br>
        <small>External API | Status: Active | Auto-generated</small>
      </div>
    </div>
  </div>
</section>






      <!-- Admin Panel Section -->
  <section class="page" id="admin-page" style="display:none;">
  <div class="page-header">
    <h2>Admin Panel</h2>
    <p>Monitor system status and alert history</p>
  </div>

  <div class="admin-grid">
    <div class="card">
      <h3><i class="fas fa-server"></i> System Status</h3>
      <div class="admin-status-list">
        <div><strong>🟢 Sensor Network:</strong> Online (24/25 sensors active)</div>
        <div><strong>🟢 Alert System:</strong> Operational</div>
        <div><strong>🟡 Communication:</strong> Limited (SMS gateway maintenance)</div>
        <div><strong>🟢 Database:</strong> Healthy (98% uptime)</div>
      </div>
    </div>
    <div class="card">
      <h3><i class="fas fa-chart-line"></i> Alert Statistics</h3>
      <div class="admin-stats-list">
        <div><strong>Today:</strong> 12 alerts processed</div>
        <div><strong>This Week:</strong> 87 alerts processed</div>
        <div><strong>Critical Alerts:</strong> 3 active</div>
        <div><strong>Response Time:</strong> Avg 2.3 minutes</div>
      </div>
    </div>
  </div>

  <div class="card" style="margin-top:32px;">
    <h3><i class="fas fa-clipboard-list"></i> Alert History</h3>
    <div class="alert-history-list">
      <div class="alert-item">
        <strong>15:34 - High Temperature Alert</strong><br>
        <small>Sensor TEMP-001 | Status: Resolved | Response: 3 mins</small>
      </div>
      <div class="alert-item">
        <strong>15:28 - Seismic Activity</strong><br>
        <small>Sensor VIBR-003 | Status: Monitoring | Response: 1 min</small>
      </div>
      <div class="alert-item">
        <strong>15:20 - Sound Pattern Alert</strong><br>
        <small>Sensor AUDIO-002 | Status: Resolved | Response: 2 mins</small>
      </div>
      <div class="alert-item">
        <strong>14:45 - Weather Advisory</strong><br>
        <small>External API | Status: Active | Auto-generated</small>
      </div>
    </div>
  </div>
</section>

<!-- Arduino Sensor Data Page -->
<section class="page" id="arduino-page" style="display:none;">
  <div class="page-header">
    <h2><i class="fas fa-microchip"></i> Arduino Sensor Data</h2>
    <p>Read live sensor data from your connected Arduino device.</p>
  </div>
  <div class="card" style="max-width:400px;margin:32px auto;">
    <button id="show-sensor-data" class="btn" style="margin-bottom: 16px;">Show Live Sensor Data</button>
    <pre id="arduino-data" style="background:#222;color:#0f0;padding:12px 18px;border-radius:8px;min-height:40px;text-align:left;"></pre>
  </div>
</section>
    </main>
  </div>


  <!--  JavaScript block  -->
  <script>
    // TODO: Replace with your Firebase project config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_STORAGE_BUCKET",
      messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    // Uncomment below to enable authentication
    // const auth = firebase.auth();
    // Navigation between pages
    const navLinks = document.querySelectorAll('.nav-item');
    const pages = {
      home: document.getElementById('home-page'),
      alerts: document.getElementById('alerts-page'),
      map: document.getElementById('map-page'),
      resources: document.getElementById('resources-page'),
      contacts: document.getElementById('profile-page'), // contacts handled in profile
      profile: document.getElementById('profile-page'),
      admin: document.getElementById('admin-page'),
      arduino: document.getElementById('arduino-page')
    };
    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        navLinks.forEach(l => l.classList.remove('active'));
        this.classList.add('active');
        Object.values(pages).forEach(page => { if(page) page.style.display = 'none'; });
        const page = this.getAttribute('data-page');
        if (pages[page]) pages[page].style.display = '';
        if (page === 'map' && window.map) setTimeout(() => { window.map.invalidateSize(); }, 200);
      });
    });
    
    // Dark mode toggle
    const darkToggle = document.getElementById('dark-mode-toggle');
    darkToggle.addEventListener('change', function() {
      document.body.style.background = this.checked ? '#222' : '#f4f6fa';
      document.body.style.color = this.checked ? '#f4f6fa' : '#222';
    });
    
    // Leaflet map
    document.addEventListener('DOMContentLoaded', function() {
      window.map = L.map('map').setView([34.0522, -118.2437], 13);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'
      }).addTo(window.map);
      L.marker([34.0522, -118.2437]).addTo(window.map).bindPopup('Community Center Shelter');
      L.marker([34.0622, -118.2537]).addTo(window.map).bindPopup('Downtown Medical Station');
      L.marker([34.0422, -118.2337]).addTo(window.map).bindPopup('High School Supply Point');
      document.getElementById('locate-me').addEventListener('click', function() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(pos) {
            const lat = pos.coords.latitude, lng = pos.coords.longitude;
            window.map.setView([lat, lng], 15);
            L.marker([lat, lng]).addTo(window.map).bindPopup('Your Location (You are here!)').openPopup();
          }, function() { alert('Could not access your location.'); });
        } else { alert('Geolocation not supported.'); }
      });
    });
    
    // SOS button
    document.getElementById('sos-button').addEventListener('click', function() {
      alert('SOS sent! Emergency contacts notified.');
    });
    
    // Emergency service buttons
    document.getElementById('fire-btn').addEventListener('click', function() {
      alert('This would call Fire & Rescue (101) in a real app.');
    });
    document.getElementById('police-btn').addEventListener('click', function() {
      alert('This would call Police (100) in a real app.');
    });
    document.getElementById('ambulance-btn').addEventListener('click', function() {
      alert('This would call Ambulance (102) in a real app.');
    });
    
    // Safety status buttons
    document.getElementById('safeBtn').addEventListener('click', function() {
      alert('Your emergency contacts have been notified that you are safe.');
    });
    document.getElementById('helpBtn').addEventListener('click', function() {
      alert('Your emergency contacts have been notified that you need assistance.');
    });
    
    // Profile form
    document.getElementById('profileForm').addEventListener('submit', function(e) {
      e.preventDefault();
      alert('✅ Profile updated successfully!');
    });
    
    // Security form
    document.getElementById('securityForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const newPassword = document.getElementById('newPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      if (newPassword !== confirmPassword) {
        alert('❌ Passwords do not match!');
        return;
      }
      alert('✅ Password updated successfully!');
      this.reset();
    });
    
    // Firestore-based contacts management
    async function renderContacts() {
      const contactsList = document.getElementById('contact-list');
      contactsList.innerHTML = '';
      const snapshot = await db.collection('contacts').get();
      snapshot.forEach(doc => {
        const contact = doc.data();
        const contactItem = document.createElement('div');
        contactItem.className = 'contact-item';
        contactItem.innerHTML = `
          <div class="contact-info">
            <h4>${contact.name}</h4>
            <p>📱 ${contact.phone} | ✉️ ${contact.email}</p>
            <p>�� ${contact.relation ? contact.relation.charAt(0).toUpperCase() + contact.relation.slice(1) : ''}</p>
          </div>
          <div class="contact-actions">
            <button class="btn btn-small" onclick="editContact('${doc.id}')">Edit</button>
            <button class="btn btn-small" style="background:#6c757d;" onclick="deleteContact('${doc.id}')">Delete</button>
          </div>
        `;
        contactsList.appendChild(contactItem);
      });
    }
    window.editContact = async function(id) {
      const doc = await db.collection('contacts').doc(id).get();
      const contact = doc.data();
      if (contact) {
        const newName = prompt('Edit Name:', contact.name);
        const newPhone = prompt('Edit Phone:', contact.phone);
        const newEmail = prompt('Edit Email:', contact.email);
        if (newName && newPhone) {
          await db.collection('contacts').doc(id).update({
            name: newName,
            phone: newPhone,
            email: newEmail || ''
          });
          renderContacts();
          alert('✅ Contact updated successfully!');
        }
      }
    }
    window.deleteContact = async function(id) {
      if (confirm('Are you sure you want to delete this contact?')) {
        await db.collection('contacts').doc(id).delete();
        renderContacts();
        alert('✅ Contact deleted successfully!');
      }
    }
    document.getElementById('contactForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const name = document.getElementById('contactName').value;
      const phone = document.getElementById('contactPhone').value;
      const email = document.getElementById('contactEmail').value;
      const relation = document.getElementById('contactRelation').value;
      if (name && phone) {
        await db.collection('contacts').add({
          name, phone, email, relation
        });
        renderContacts();
        this.reset();
        alert('✅ Emergency contact added successfully!');
      }
    });
    renderContacts();
    
    // Security: prevent form submission on Enter in contact list
    document.getElementById('contact-list').addEventListener('keydown', function(e) {
      if (e.key === 'Enter') e.preventDefault();
    });

    // Arduino Web Serial API integration (now only on Arduino page)
    const arduinoPage = document.getElementById('arduino-page');
    if (arduinoPage) {
      let arduinoPort;
      const showBtn = document.getElementById('show-sensor-data');
      const dataPre = document.getElementById('arduino-data');
      if (showBtn && dataPre) {
        showBtn.addEventListener('click', async () => {
          try {
            arduinoPort = await navigator.serial.requestPort();
            await arduinoPort.open({ baudRate: 9600 });
            const decoder = new TextDecoderStream();
            arduinoPort.readable.pipeTo(decoder.writable);
            const reader = decoder.readable.getReader();
            dataPre.textContent = 'Connected. Waiting for data...\n';
            while (true) {
              const { value, done } = await reader.read();
              if (done) break;
              if (value) {
                dataPre.textContent += value;
              }
            }
          } catch (err) {
            alert('Error: ' + err);
          }
        });
      }
    }
    </script>
</body>
</html>